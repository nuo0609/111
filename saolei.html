<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰«é›·æ¸¸æˆ</title>
    <style>
      .minefield {
            border: 1px solid #000;
            width: 300px;
            height: 300px;
        }
    </style>
</head>

<body>
    <div class="minefield"></div>

    <script>
        <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰«é›·æ¸¸æˆ</title>
    <style>
      .minefield {
            border: 1px solid #000;
            width: 300px;
            height: 300px;
        }
    </style>
</head>

<body>
    <div class="minefield"></div>

    <script>
        <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®€å•æ‰«é›·æ¸¸æˆ</title>
    <style>
      .minefield {
            border: 1px solid #000;
            width: 200px;
            height: 200px;
        }
    </style>
</head>

<body>
    <div class="minefield"></div>

    <script>
        // å®šä¹‰æ‰«é›·æ¸¸æˆçš„å¤§å°
        const ROWS = 10;
        const COLS = 10;
        const MINE_COUNT = 10;

        // åˆ›å»ºæ¸¸æˆç½‘æ ¼
        const minefield = document.querySelector('.minefield');
        const cells = [];
        for (let i = 0; i < ROWS; i++) {
            const row = [];
            for (let j = 0; j < COLS; j++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.dataset.row = i;
                cell.dataset.col = j;
                cell.addEventListener('click', handleClick);
                row.push(cell);
            }
            cells.push(row);
        }
        minefield.append(...cells.flat());

        // éšæœºæ”¾ç½®åœ°é›·
        let mines = [];
        while (mines.length < MINE_COUNT) {
            const row = Math.floor(Math.random() * ROWS);
            const col = Math.floor(Math.random() * COLS);
            if (!mines.includes([row, col])) {
                mines.push([row, col]);
            }
        }

        // è®¡ç®—æ¯ä¸ªæ ¼å­å‘¨å›´çš„åœ°é›·æ•°é‡
        for (let i = 0; i < ROWS; i++) {
            for (let j = 0; j < COLS; j++) {
                let count = 0;
                for (let row = i - 1; row <= i + 1; row++) {
                    for (let col = j - 1; col <= j + 1; col++) {
                        if (row >= 0 && row < ROWS && col >= 0 && col < COLS && (row!== i || col!== j)) {
                            if (mines.some(mine => mine[0] === row && mine[1] === col)) {
                                count++;
                            }
                        }
                    }
                }
                cells[i][j].textContent = count > 0? count : '';
            }
        }

        function handleClick(event) {
            const cell = event.target;
            if (cell.classList.contains('mine')) {
                // ç‚¹å‡»åˆ°åœ°é›·ï¼Œæ¸¸æˆç»“æŸ
                alert('ä½ ç‚¹å‡»åˆ°åœ°é›·äº†ï¼Œæ¸¸æˆç»“æŸï¼');
                revealAllMines();
            } else if (cell.textContent === '') {
                // ç‚¹å‡»åˆ°ç©ºç™½æ ¼å­ï¼Œå±•å¼€å‘¨å›´çš„æ ¼å­
                revealEmptyCell(cell);
            }
        }

        function revealEmptyCell(cell) {
            const row = parseInt(cell.dataset.row);
            const col = parseInt(cell.dataset.col);
            if (cell.textContent!== '' || cell.classList.contains('revealed')) {
                return;
            }
            cell.classList.add('revealed');
            if (cell.textContent === '') {
                for (let i = row - 1; i <= row + 1; i++) {
                    for (let j = col - 1; j <= col + 1; j++) {
                        if (i >= 0 && i < ROWS && j >= 0 && j < COLS) {
                            revealEmptyCell(cells[i][j]);
                        }
                    }
                }
            }
        }

        function revealAllMines() {
            for (const mine of mines) {
                const cell = cells[mine[0]][mine[1]];
                cell.classList.add('mine');
                cell.textContent = 'ğŸ’£';
            }
        }
    </script>
</body>

</html>
    </script>
</body>

</html>
    </script>
</body>

</html>
